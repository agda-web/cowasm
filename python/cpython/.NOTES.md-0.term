
The default interactive shell is now zsh.
To update your account to use zsh, please run `chsh -s /bin/zsh`.
For more details, please visit https://support.apple.com/kb/HT208050.
]0;~/cowasm/packages/cpython[01;34m~/cowasm/packages/cpython[00m$ [K]0;~/cowasm/packages/cpython[01;34m~/cowasm/packages/cpython[00m$ ls
Makefile	NOTES.md	README.md	__pycache__	bin		build		dist		install		python.term	src
]0;~/cowasm/packages/cpython[01;34m~/cowasm/packages/cpython[00m$ git add NOTES.md 
]0;~/cowasm/packages/cpython[01;34m~/cowasm/packages/cpython[00m$ gi co[K[K[Kt commit -vNO[K[K NOTES.md 
hint: Waiting for your editor to close the file... [?1h=(B)0[?1049h[1;45r[m[4l[39;49m[?1h=[?25l[39;49m[m[H[J[1B# Please enter the commit message for your changes. Lines starting[1B# with '#' will be ignored, and an empty message aborts the commit.[1B#[1B# On branch dev[1B# Your branch is up to date with 'origin/dev'.[1B#[1B# Changes to be committed:[1B#[7Cnew file:   NOTES.md[1B#[1B# Changes not staged for commit:[1B#[7Cmodified:   ../wasi-js/src/wasi.ts[1B#[1B# Untracked files:[1B#[7Cinstall[1B#[7C../kernel/src/wasm/posix/a.py[1B#[7C../openssl/build.0/[1B#[7C../posix-node/demo/read.js[1B#[7C../posix-node/src/.socket.zig.sage-chat[1B#[7C../zig/bin/a[1B#[7C../../spam.zip[1B#[7C../../str[1B#[1B# ------------------------ >8 ------------------------[1B# Do not modify or remove the line above.[1B# Everything below it will be ignored.[1Bdiff --git a/packages/cpython/NOTES.md b/packages/cpython/NOTES.md[1Bnew file mode 100644[1Bindex 00000000..bffe52d6[1B--- /dev/null[1B+++ b/packages/cpython/NOTES.md[1B@@ -0,0 +1,7 @@[1B+# Notes[1B+[1B+## pylifecycle.c[1B+[1B+I just noticed that in `Python/pylifecycle.c` the function is\_valid\_fd uses `fcntl(fd, F_GETFD)` to tell if a fd is valid in case of \_\_wasm\_\_.  I then read the source code[1Bof `fcntl` in wasi... and it is **FAKE** \-\- it always succeeds for any random input of fd![1B+[1B+I'm not sure if I patch pylifecycle.c or not, since this code is only used in one spot to signal a fatal error, which happens later anyways.  It's just a little weird/worrisome.[5B[H[0;7m [40B[m~[1B~[1B~[1B~[1B[0;7m .git/COMMIT_EDITMSG                                                                                                                                                     0% Â« 1, 1 [1@1[m[H[0;7m[33m [1;72H[0m[41m [1B [1B [1B [1B [1B [1B [1B [1B [1B [1B [1B [1B [1B [1B [1B [1B [1B [1B [1B [1B [1B [1B [1B [1B [1B [1B [1B [1B [1B [1B [1B [1B [1B [1B [1B [1Bf[2B [1Bu[1B [4B[49m[0;1;7m .git/COMMIT_EDITMSG                                                                                                                                                     0% Â« 1, 1 [1@1[m[C[0;1;7mINSERT Â» .git/COMMIT_EDITMSG[149C[m[Ha[0;7m[33m [45;31H[39m[0;1;7m[+][45;170H1[7C2[m[Had[0;7m[33m [45;178H[39m[0;1;7m3[m[Hadd[0;7m[33m [45;178H[39m[0;1;7m4[m[Hadd [0;7m[33m [45;178H[39m[0;1;7m5[m[Hadd n[0;7m[33m [45;178H[39m[0;1;7m6[m[1;6Ho[0;7m[33m [45;178H[39m[0;1;7m7[m[1;7Ht[0;7m[33m [45;178H[39m[0;1;7m8[m[1;8He[0;7m[33m [45;178H[39m[0;1;7m9[m[1;9H [0;7m[33m [45;169H[39m[0;1;7m1% Â« 1, 10[m[1;10Ha[0;7m[33m [45;178H[39m[0;1;7m1[m[1;11Hb[0;7m[33m [45;178H[39m[0;1;7m2[m[1;12Ho[0;7m[33m [45;178H[39m[0;1;7m3[m[1;13Hu[0;7m[33m [45;178H[39m[0;1;7m4[m[1;14Ht[0;7m[33m [45;169H[39m[0;1;7m2[8C5[m[1;15H [0;7m[33m [45;178H[39m[0;1;7m6[m[1;16Ha[0;7m[33m [45;178H[39m[0;1;7m7[m[1;17H [0;7m[33m [45;178H[39m[0;1;7m8[m[1;18Hw[0;7m[33m [45;178H[39m[0;1;7m9[m[1;19He[0;7m[33m [45;177H[39m[0;1;7m20[m[1;20Hi[0;7m[33m [45;178H[39m[0;1;7m1[m[1;21Hr[0;7m[33m [45;178H[39m[0;1;7m2[m[1;22Hd[0;7m[33m [45;178H[39m[0;1;7m3[m[1;23H [0;7m[33m [45;178H[39m[0;1;7m4[m[1;23H[0;7m[33m [39m[m [45;178H[0;1;7m3[m[1;22H[0;7m[33m [39m[m [45;178H[0;1;7m2[m[1;21H[0;7m[33m [39m[m [45;178H[0;1;7m1[m[1;20H[0;7m[33m [39m[m [45;178H[0;1;7m0[m[1;19H[0;7m[33m [39m[m [45;177H[0;1;7m19[m[1;18H[0;7m[33m [39m[m [45;178H[0;1;7m8[m[1;18Hb[0;7m[33m [45;178H[39m[0;1;7m9[m[1;19Hu[0;7m[33m [45;177H[39m[0;1;7m20[m[1;20Hg[0;7m[33m [45;178H[39m[0;1;7m1[m[1;21H [0;7m[33m [45;178H[39m[0;1;7m2[m[1;22Hi[0;7m[33m [45;178H[39m[0;1;7m3[m[1;23Hn[0;7m[33m [45;178H[39m[0;1;7m4[m[1;24H [0;7m[33m [45;178H[39m[0;1;7m5[m[1;25Hc[0;7m[33m [45;178H[39m[0;1;7m6[m[1;26Hp[0;7m[33m [45;178H[39m[0;1;7m7[m[1;27Hy[0;7m[33m [45;178H[39m[0;1;7m8[m[1;28Ht[0;7m[33m [45;169H[39m[0;1;7m3[8C9[m[1;29Hh[0;7m[33m [45;177H[39m[0;1;7m30[m[1;30Ho[0;7m[33m [45;178H[39m[0;1;7m1[m[1;31Hn[0;7m[33m [45;178H[39m[0;1;7m2[m[C[0;1;7m.git/COMMIT_EDITMSG [+]         [145C[m[JM[0;1;7m .git/COMMIT_EDITMSG [+]                                                                                                                                            ? Â« 3% Â« 1, 32 [45;179H[m[1;32H[0;7m[33m[48;5;103m [44;165H[39;49m[0;1;7m   [1B[m?[0;7;5m [176C[m?b[0;7;5m [175C[m?bu[0;7;5m [174C[m?bug[0;7;5m [173C[m[1;18H[0;7m[33mb[1;32H[39m[m [43B~[K[1B[0;1;7m .git/COMMIT_EDITMSG [+]                                                                                                                                                2% Â« 1, 18 [1@8[m[C[0;1;7mINSERT Â» .git/COMMIT_EDITMSG [+][145C[m[1;18H"[0;7m[33mb[39m[mug in cpython[45;178H[0;1;7m9[m[C[0;1;7m.git/COMMIT_EDITMSG [+]         [145C[m[1;19Hb[0;7m[33mu[45;177H[39m[0;1;7m20[m[1;20Hu[0;7m[33mg[45;178H[39m[0;1;7m1[m[1;21Hg[0;7m[33m [45;178H[39m[0;1;7m2[m[C[0;1;7mINSERT Â» .git/COMMIT_EDITMSG [+][145C[m[1;22H"[0;7m[33m [39m[min cpython[45;178H[0;1;7m3[m[C[0;1;7m.git/COMMIT_EDITMSG [+]         [145C[m[1;23H [1;34H[0;7m[33m [45;169H[39m[0;1;7m3[7C34[m[C[0;1;7mINSERT Â» .git/COMMIT_EDITMSG [+][145C[m[1;34H [0;7m[33m [45;178H[39m[0;1;7m5[m[1;35Hu[0;7m[33m [45;178H[39m[0;1;7m6[m[1;35H[0;7m[33m [39m[m [45;178H[0;1;7m5[m[1;35Hm[0;7m[33m [45;178H[39m[0;1;7m6[m[1;36Hi[0;7m[33m [45;178H[39m[0;1;7m7[m[1;36H[0;7m[33m [39m[m [45;178H[0;1;7m6[m[1;35H[0;7m[33m [39m[m [45;178H[0;1;7m5[m[1;35H+[0;7m[33m [45;178H[39m[0;1;7m6[m[1;36H [0;7m[33m [45;178H[39m[0;1;7m7[m[1;37Hw[0;7m[33m [45;178H[39m[0;1;7m8[m[1;38Ha[0;7m[33m [45;178H[39m[0;1;7m9[m[1;39Hs[0;7m[33m [45;177H[39m[0;1;7m40[m[1;40Hi[0;7m[33m [45;178H[39m[0;1;7m1[m[1;41H [0;7m[33m [45;169H[39m[0;1;7m4[8C2[m[C[0;1;7m.git/COMMIT_EDITMSG [+]         [145C[m[45;165H[0;1;7mZ Â«[11C[m[JM[0;1;7m .git/COMMIT_EDITMSG [+]                                                                                                                                   :wq<Enter> Â« 4% Â« 1, 42 [45;179H[m[45;1H[34h[?25h[?1049l[?1l>[?1l>[K[dev df3c26ca] add note about a "bug" in cpython + wasi
 1 file changed, 7 insertions(+)
 create mode 100644 packages/cpython/NOTES.md
]0;~/cowasm/packages/cpython[01;34m~/cowasm/packages/cpython[00m$ 